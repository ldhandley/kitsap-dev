"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),i=require("react/jsx-runtime"),a=require("@mui/material/Grid"),t=require("@mui/material/Card"),r=require("@mui/material/CardMedia"),d=require("@mui/material/CardContent"),n=require("@mui/material/CardActions"),l=require("@mui/material/Chip"),o=require("@mui/material/IconButton"),s=require("@mui/material/Button"),u=require("@mui/material/ButtonGroup"),c=require("@mui/material/Typography"),m=require("@mui/material/InputLabel"),v=require("@mui/icons-material/ShoppingCart"),h=require("@mui/icons-material/Delete"),x=require("@mui/material/CircularProgress"),f=require("@mui/material/Alert"),p=require("@mui/material/Radio"),j=require("@mui/material/RadioGroup"),g=require("@mui/material/FormControlLabel"),y=require("@mui/material/FormControl"),C=require("@mui/material/FormLabel"),b=require("@mui/material/TextField"),q=require("@mui/material/Snackbar"),k=require("@mui/material/Select"),P=require("@mui/material/MenuItem"),N=require("date-fns");function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var L=S(a),M=S(t),I=S(r),w=S(d),T=S(n),B=S(l),D=S(o),F=S(s),O=S(u),A=S(c),U=S(m),R=S(v),H=S(h),Y=S(x),G=S(f),E=S(p),V=S(j),W=S(g),$=S(y),_=S(C),z=S(b),J=S(q),X=S(k),K=S(P),Q=function(){return Q=Object.assign||function(e){for(var i,a=1,t=arguments.length;a<t;a++)for(var r in i=arguments[a])Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);return e},Q.apply(this,arguments)};function Z(e){return e?0==e.length?{valid:!1,errors:["Name must be provided."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Name must be provided."]}}function ee(e){return e?e.replace(/\D/g,"").length<10?{valid:!1,errors:["Phone number must be at least 10 digits long."]}:e.replace(/[\d\-() ]/g,"").length>0?{valid:!1,errors:["Phone number should only contain digits."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Phone must be provided."]}}function ie(e){return e?0==e.length?{valid:!1,errors:["Address must be provided."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Address must be provided."]}}function ae(e){for(var i={},a=0,t=e;a<t.length;a++){var r=t[a];i[r.name]?i[r.name].quantity++:i[r.name]=Q(Q({},r),{quantity:1})}return Object.values(i)}function te(e){return i.jsxs(O.default,Q({size:"small"},{children:[i.jsx(F.default,Q({onClick:e.onMinusClicked},{children:"-"}),void 0),i.jsx(F.default,Q({style:{color:"black",borderColor:"black"},disabled:!0},{children:e.quantity}),void 0),i.jsx(F.default,Q({onClick:e.onPlusClicked},{children:"+"}),void 0)]}),void 0)}function re(e){return i.jsx(i.Fragment,{children:i.jsx("div",{children:i.jsxs(L.default,Q({container:!0,spacing:2,alignItems:"center",className:"cart-line-item"},{children:[i.jsx(L.default,Q({item:!0,xs:1},{children:i.jsx("img",{src:e.image,width:"100%"},void 0)}),void 0),i.jsx(L.default,Q({item:!0,xs:3},{children:e.name}),void 0),i.jsx(L.default,Q({item:!0,xs:3},{children:i.jsx(te,{quantity:e.quantity,onPlusClicked:function(){return e.addByName(e.name)},onMinusClicked:function(){return e.removeByName(e.name)}},void 0)}),void 0),i.jsx(L.default,Q({item:!0,xs:3},{children:"$"+e.price*e.quantity}),void 0),i.jsx(L.default,Q({item:!0,xs:2},{children:i.jsx(D.default,Q({color:"primary","aria-label":"remove line item from cart",component:"span",onClick:function(){return e.removeByName(e.name,{all:!0})}},{children:i.jsx(H.default,{},void 0)}),void 0)}),void 0)]}),void 0)},void 0)},void 0)}exports.Cart=function(a){return i.jsx(i.Fragment,{children:0!==a.lineItems.length?i.jsxs(i.Fragment,{children:[i.jsxs("h2",{children:["Order ",i.jsx(B.default,{label:"Total: $"+a.lineItems.reduce((function(e,i){return console.log(i),i.price+e}),0).toFixed(2),color:"success"},void 0)]},void 0),i.jsx("div",{children:ae(a.lineItems).map((function(i){return e.createElement(re,Q({},i,{key:i.name,addByName:a.addByName,removeByName:a.removeByName}))}))},void 0)]},void 0):""},void 0)},exports.CheckoutButton=function(a){var t=e.useState({errorMessage:null,checkoutURL:null}),r=t[0],d=t[1],n=e.useState(!1),l=n[0],o=n[1];return e.useEffect((function(){r.checkoutURL&&(window.location=r.checkoutURL)}),[r.checkoutURL]),l?i.jsx(Y.default,{},void 0):i.jsxs(i.Fragment,{children:[r.errorMessage?i.jsx(G.default,Q({severity:"error",style:{marginBottom:10}},{children:r.errorMessage}),void 0):"",i.jsx(F.default,Q({variant:"contained",disabled:a.disabled||0===a.lineItems.length,onClick:function(){var e,i;o(!0),fetch(a.serverlessCheckoutUrl,{method:"POST",body:JSON.stringify({lineItems:(e=ae(a.lineItems),i=a.prices,e.map((function(e){return{price:i[e.name],quantity:e.quantity}}))),successPage:a.successPageUrl,cancelPage:a.cancelPageUrl,metadata:a.metadata||{}})}).then((function(e){return e.json()})).then((function(e){d(e),o(!1)}))}},{children:"Checkout"}),void 0)]},void 0)},exports.DeliveryPickupCustomerInformation=function(a){var t,r=e.useState(!1),d=r[0],n=r[1],l=function(e,i){i?Z(e.customerName).valid&&ee(e.phone).valid&&ie(e.addressLine1).valid?a.setMetadataComplete(!0):a.setMetadataComplete(!1):Z(e.customerName).valid&&ee(e.phone).valid?a.setMetadataComplete(!0):a.setMetadataComplete(!1)},o=function(e){return function(i){var t,r=Q(Q({},a.metadata),((t={})[e]=i.target.value,t));a.setMetadata(r),l(r,d)}};return i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{padding:10}},void 0),i.jsxs($.default,{children:[i.jsx(_.default,Q({id:"demo-radio-buttons-group-label"},{children:"Delivery or Pickup?"}),void 0),i.jsxs(V.default,Q({"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Pickup",name:"radio-buttons-group",onChange:function(e){"Delivery"==e.target.value&&(n(!0),l(a.metadata,!0)),"Pickup"==e.target.value&&(n(!1),l(a.metadata,!1))}},{children:[i.jsx(W.default,{value:"Delivery",control:i.jsx(E.default,{},void 0),label:"Delivery"},void 0),i.jsx(W.default,{value:"Pickup",control:i.jsx(E.default,{},void 0),label:"Pickup"},void 0)]}),void 0),i.jsx("div",{style:{padding:10}},void 0)]},void 0),i.jsxs("div",{children:[d?"":i.jsxs(i.Fragment,{children:[i.jsxs(L.default,Q({container:!0,spacing:2},{children:[i.jsx(L.default,Q({item:!0,xs:3},{children:i.jsxs($.default,Q({variant:"standard",sx:{width:"100%"}},{children:[i.jsx(U.default,{children:"How Long Until Pickup?"},void 0),i.jsxs(X.default,Q({value:a.metadata.minutesTillPickup||30,label:"Pickup in X Minutes",onChange:o("minutesTillPickup")},{children:[i.jsx(K.default,Q({value:30},{children:"30 minutes"}),void 0),i.jsx(K.default,Q({value:45},{children:"45 minutes"}),void 0),i.jsx(K.default,Q({value:60},{children:"1 hour"}),void 0),i.jsx(K.default,Q({value:75},{children:"1 hour 15 minutes"}),void 0),i.jsx(K.default,Q({value:90},{children:"1 hour 30 minutes"}),void 0),i.jsx(K.default,Q({value:105},{children:"1 hour 45 minutes"}),void 0),i.jsx(K.default,Q({value:120},{children:"2 hours"}),void 0)]}),void 0)]}),void 0)}),void 0),i.jsx(L.default,Q({item:!0,xs:3},{children:i.jsxs("p",{children:["Pickup at: ",i.jsx("b",{children:(t=a.metadata.minutesTillPickup,N.format(N.add(new Date,{minutes:t}),"h:mmaaa"))},void 0)]},void 0)}),void 0),i.jsx(L.default,{item:!0,xs:6},void 0)]}),void 0),i.jsx("div",{style:{padding:10}},void 0)]},void 0),i.jsxs($.default,Q({style:{width:"100%"}},{children:[i.jsx(z.default,{id:"customer-name-field",label:"Your Name",autoComplete:"name",variant:"standard",required:!0,onChange:o("customerName"),helperText:void 0!==a.metadata.customerName&&Z(a.metadata.customerName).errors[0],error:void 0!==a.metadata.customerName&&!Z(a.metadata.customerName).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),i.jsx(z.default,{id:"customer-phone-field",label:"Your Phone #",autoComplete:"mobile",required:!0,variant:"standard",onChange:o("phone"),helperText:void 0!==a.metadata.phone&&ee(a.metadata.phone).errors[0],error:void 0!==a.metadata.phone&&!ee(a.metadata.phone).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),d?i.jsxs(i.Fragment,{children:[i.jsx(z.default,{id:"customer-address-line-1-field",label:"Delivery Address Line 1",autoComplete:"address-line1",required:!0,variant:"standard",onChange:o("addressLine1"),helperText:void 0!==a.metadata.addressLine1&&ie(a.metadata.addressLine1).errors[0],error:void 0!==a.metadata.addressLine1&&!ie(a.metadata.addressLine1).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),i.jsx(z.default,{id:"customer-address-line-2-field",label:"Delivery Address Line 2",autoComplete:"address-line2",variant:"standard",onChange:o("addressLine2")},void 0)]},void 0):"",i.jsx("div",{style:{padding:10}},void 0),i.jsx(z.default,{style:{marginTop:15},id:"",label:"Special Instructions",multiline:!0,rows:3,onChange:o("specialInstructions")},void 0)]}),void 0)]},void 0)]},void 0)},exports.MenuItemCard=function(a){var t=e.useState(!1),r=t[0],d=t[1],n=function(e){d(!1)};return i.jsxs(M.default,Q({sx:{maxWidth:345}},{children:[i.jsx(I.default,{component:"img",height:"194",image:a.image,alt:a.name},void 0),i.jsxs(w.default,{children:[i.jsx(A.default,Q({variant:"h6"},{children:a.name}),void 0),i.jsx(A.default,Q({variant:"body2",color:"text.secondary"},{children:a.description}),void 0)]},void 0),i.jsx(T.default,Q({disableSpacing:!0},{children:i.jsxs(L.default,Q({container:!0,spacing:2},{children:[i.jsx(L.default,{item:!0,xs:6},void 0),i.jsxs(L.default,Q({item:!0,xs:6},{children:[i.jsxs(F.default,Q({variant:"text",onClick:function(){a.addToCart({name:a.name,price:a.price,image:a.image}),d(!0)}},{children:[i.jsx(R.default,{},void 0)," Add to Order"]}),void 0),i.jsx(J.default,Q({open:r,autoHideDuration:6e3,onClose:n},{children:i.jsx(G.default,Q({onClose:n,severity:"success",sx:{width:"100%"}},{children:"You've ordered an item! Scroll down when ready."}),void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)]}),void 0)},exports.MultiVariantMenuItemCard=function(a){var t=e.useState(!1),r=t[0],d=t[1],n=e.useState(a.variants[0][0]),l=n[0],o=n[1],s=function(e){d(!1)};return i.jsxs(M.default,Q({sx:{maxWidth:345}},{children:[i.jsx(I.default,{component:"img",height:"194",image:a.image,alt:a.name},void 0),i.jsxs(w.default,{children:[i.jsx(A.default,Q({variant:"h6"},{children:a.name}),void 0),i.jsx(A.default,Q({variant:"body2",color:"text.secondary"},{children:a.description}),void 0)]},void 0),i.jsx(T.default,Q({disableSpacing:!0},{children:i.jsxs(L.default,Q({container:!0,spacing:2},{children:[i.jsx(L.default,Q({item:!0,xs:6},{children:i.jsx(X.default,Q({labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:a.variationName,onChange:function(e){o(e.target.value)},style:{height:35}},{children:a.variants.map((function(e){return i.jsx(K.default,Q({value:e[0]},{children:e[0]}),e[0])}))}),void 0)}),void 0),i.jsxs(L.default,Q({item:!0,xs:6},{children:[i.jsxs(F.default,Q({variant:"text",onClick:function(){a.addToCart({name:a.name+" - "+l,price:a.variants.find((function(e){return e[0]==l}))[1],image:a.image}),d(!0)}},{children:[i.jsx(R.default,{},void 0)," Add to Order"]}),void 0),i.jsx(J.default,Q({open:r,autoHideDuration:6e3,onClose:s},{children:i.jsx(G.default,Q({onClose:s,severity:"success",sx:{width:"100%"}},{children:"You've ordered an item! Scroll down when ready."}),void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)]}),void 0)},exports.SimpleComponent=function(){var a=e.useState("Hello"),t=a[0];return a[1],i.jsx("p",{children:t},void 0)};
//# sourceMappingURL=index.js.map
