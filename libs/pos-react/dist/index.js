"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),i=require("react/jsx-runtime"),a=require("@mui/material/Grid"),t=require("@mui/material/Card"),r=require("@mui/material/CardMedia"),d=require("@mui/material/CardContent"),n=require("@mui/material/CardActions"),l=require("@mui/material/IconButton"),o=require("@mui/material/Button"),s=require("@mui/material/ButtonGroup"),u=require("@mui/material/Typography"),c=require("@mui/material/InputLabel"),m=require("@mui/icons-material/ShoppingCart"),v=require("@mui/icons-material/Delete"),h=require("@mui/material/CircularProgress"),x=require("@mui/material/Alert"),f=require("@mui/material/Radio"),p=require("@mui/material/RadioGroup"),j=require("@mui/material/FormControlLabel"),g=require("@mui/material/FormControl"),y=require("@mui/material/FormLabel"),C=require("@mui/material/TextField"),b=require("@mui/material/Snackbar"),q=require("@mui/material/Select"),k=require("@mui/material/MenuItem"),P=require("date-fns");function N(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var S=N(a),L=N(t),M=N(r),w=N(d),I=N(n),B=N(l),D=N(o),T=N(s),F=N(u),O=N(c),A=N(m),U=N(v),R=N(h),H=N(x),Y=N(f),G=N(p),E=N(j),V=N(g),W=N(y),_=N(C),z=N(b),J=N(q),X=N(k),K=function(){return K=Object.assign||function(e){for(var i,a=1,t=arguments.length;a<t;a++)for(var r in i=arguments[a])Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);return e},K.apply(this,arguments)};function Q(e){return e?0==e.length?{valid:!1,errors:["Name must be provided."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Name must be provided."]}}function Z(e){return e?e.replace(/\D/g,"").length<10?{valid:!1,errors:["Phone number must be at least 10 digits long."]}:e.replace(/[\d\-() ]/g,"").length>0?{valid:!1,errors:["Phone number should only contain digits."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Phone must be provided."]}}function $(e){return e?0==e.length?{valid:!1,errors:["Address must be provided."]}:{valid:!0,errors:[]}:{valid:!1,errors:["Address must be provided."]}}function ee(e){for(var i={},a=0,t=e;a<t.length;a++){var r=t[a];i[r.name]?i[r.name].quantity++:i[r.name]=K(K({},r),{quantity:1})}return Object.values(i)}function ie(e){return i.jsxs(T.default,K({size:"small"},{children:[i.jsx(D.default,K({onClick:e.onMinusClicked},{children:"-"}),void 0),i.jsx(D.default,K({style:{color:"black",borderColor:"black"},disabled:!0},{children:e.quantity}),void 0),i.jsx(D.default,K({onClick:e.onPlusClicked},{children:"+"}),void 0)]}),void 0)}function ae(e){return i.jsx(i.Fragment,{children:i.jsx("div",{children:i.jsxs(S.default,K({container:!0,spacing:2,alignItems:"center",className:"cart-line-item"},{children:[i.jsx(S.default,K({item:!0,xs:1},{children:i.jsx("img",{src:e.image,width:"100%"},void 0)}),void 0),i.jsx(S.default,K({item:!0,xs:4},{children:e.name}),void 0),i.jsx(S.default,K({item:!0,xs:3},{children:i.jsx(ie,{quantity:e.quantity,onPlusClicked:function(){return e.addByName(e.name)},onMinusClicked:function(){return e.removeByName(e.name)}},void 0)}),void 0),i.jsx(S.default,K({item:!0,xs:3},{children:i.jsx(B.default,K({color:"primary","aria-label":"remove line item from cart",component:"span",onClick:function(){return e.removeByName(e.name,{all:!0})}},{children:i.jsx(U.default,{},void 0)}),void 0)}),void 0)]}),void 0)},void 0)},void 0)}exports.Cart=function(a){return i.jsx(i.Fragment,{children:0!==a.lineItems.length?i.jsxs(i.Fragment,{children:[i.jsx("h2",{children:"Order"},void 0),i.jsx("div",{children:ee(a.lineItems).map((function(i){return e.createElement(ae,K({},i,{key:i.name,addByName:a.addByName,removeByName:a.removeByName}))}))},void 0)]},void 0):""},void 0)},exports.CheckoutButton=function(a){var t=e.useState({errorMessage:null,checkoutURL:null}),r=t[0],d=t[1],n=e.useState(!1),l=n[0],o=n[1];return e.useEffect((function(){r.checkoutURL&&(window.location=r.checkoutURL)}),[r.checkoutURL]),l?i.jsx(R.default,{},void 0):i.jsxs(i.Fragment,{children:[r.errorMessage?i.jsx(H.default,K({severity:"error",style:{marginBottom:10}},{children:r.errorMessage}),void 0):"",i.jsx(D.default,K({variant:"contained",disabled:a.disabled||0===a.lineItems.length,onClick:function(){var e,i;o(!0),fetch(a.serverlessCheckoutUrl,{method:"POST",body:JSON.stringify({lineItems:(e=ee(a.lineItems),i=a.prices,e.map((function(e){return{price:i[e.name],quantity:e.quantity}}))),successPage:a.successPageUrl,cancelPage:a.cancelPageUrl,metadata:a.metadata||{}})}).then((function(e){return e.json()})).then((function(e){d(e),o(!1)}))}},{children:"Checkout"}),void 0)]},void 0)},exports.DeliveryPickupCustomerInformation=function(a){var t,r=e.useState(!1),d=r[0],n=r[1],l=function(e,i){i?Q(e.customerName).valid&&Z(e.phone).valid&&$(e.addressLine1).valid?a.setMetadataComplete(!0):a.setMetadataComplete(!1):Q(e.customerName).valid&&Z(e.phone).valid?a.setMetadataComplete(!0):a.setMetadataComplete(!1)},o=function(e){return function(i){var t,r=K(K({},a.metadata),((t={})[e]=i.target.value,t));a.setMetadata(r),l(r,d)}};return i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{padding:10}},void 0),i.jsxs(V.default,{children:[i.jsx(W.default,K({id:"demo-radio-buttons-group-label"},{children:"Delivery or Pickup?"}),void 0),i.jsxs(G.default,K({"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Pickup",name:"radio-buttons-group",onChange:function(e){"Delivery"==e.target.value&&(n(!0),l(a.metadata,!0)),"Pickup"==e.target.value&&(n(!1),l(a.metadata,!1))}},{children:[i.jsx(E.default,{value:"Delivery",control:i.jsx(Y.default,{},void 0),label:"Delivery"},void 0),i.jsx(E.default,{value:"Pickup",control:i.jsx(Y.default,{},void 0),label:"Pickup"},void 0)]}),void 0),i.jsx("div",{style:{padding:10}},void 0)]},void 0),i.jsxs("div",{children:[d?"":i.jsxs(i.Fragment,{children:[i.jsxs(S.default,K({container:!0,spacing:2},{children:[i.jsx(S.default,K({item:!0,xs:3},{children:i.jsxs(V.default,K({variant:"standard",sx:{width:"100%"}},{children:[i.jsx(O.default,{children:"How Long Until Pickup?"},void 0),i.jsxs(J.default,K({value:a.metadata.minutesTillPickup||30,label:"Pickup in X Minutes",onChange:o("minutesTillPickup")},{children:[i.jsx(X.default,K({value:30},{children:"30 minutes"}),void 0),i.jsx(X.default,K({value:45},{children:"45 minutes"}),void 0),i.jsx(X.default,K({value:60},{children:"1 hour"}),void 0),i.jsx(X.default,K({value:75},{children:"1 hour 15 minutes"}),void 0),i.jsx(X.default,K({value:90},{children:"1 hour 30 minutes"}),void 0),i.jsx(X.default,K({value:105},{children:"1 hour 45 minutes"}),void 0),i.jsx(X.default,K({value:120},{children:"2 hours"}),void 0)]}),void 0)]}),void 0)}),void 0),i.jsx(S.default,K({item:!0,xs:3},{children:i.jsxs("p",{children:["Pickup at: ",i.jsx("b",{children:(t=a.metadata.minutesTillPickup,P.format(P.add(new Date,{minutes:t}),"h:mmaaa"))},void 0)]},void 0)}),void 0),i.jsx(S.default,{item:!0,xs:6},void 0)]}),void 0),i.jsx("div",{style:{padding:10}},void 0)]},void 0),i.jsxs(V.default,K({style:{width:"100%"}},{children:[i.jsx(_.default,{id:"customer-name-field",label:"Your Name",autoComplete:"name",variant:"standard",required:!0,onChange:o("customerName"),helperText:void 0!==a.metadata.customerName&&Q(a.metadata.customerName).errors[0],error:void 0!==a.metadata.customerName&&!Q(a.metadata.customerName).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),i.jsx(_.default,{id:"customer-phone-field",label:"Your Phone #",autoComplete:"mobile",required:!0,variant:"standard",onChange:o("phone"),helperText:void 0!==a.metadata.phone&&Z(a.metadata.phone).errors[0],error:void 0!==a.metadata.phone&&!Z(a.metadata.phone).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),d?i.jsxs(i.Fragment,{children:[i.jsx(_.default,{id:"customer-address-line-1-field",label:"Delivery Address Line 1",autoComplete:"address-line1",required:!0,variant:"standard",onChange:o("addressLine1"),helperText:void 0!==a.metadata.addressLine1&&$(a.metadata.addressLine1).errors[0],error:void 0!==a.metadata.addressLine1&&!$(a.metadata.addressLine1).valid},void 0),i.jsx("div",{style:{padding:10}},void 0),i.jsx(_.default,{id:"customer-address-line-2-field",label:"Delivery Address Line 2",autoComplete:"address-line2",variant:"standard",onChange:o("addressLine2")},void 0)]},void 0):"",i.jsx("div",{style:{padding:10}},void 0),i.jsx(_.default,{style:{marginTop:15},id:"",label:"Special Instructions",multiline:!0,rows:3,onChange:o("specialInstructions")},void 0)]}),void 0)]},void 0)]},void 0)},exports.MenuItemCard=function(a){var t=e.useState(!1),r=t[0],d=t[1],n=function(e){d(!1)};return i.jsxs(L.default,K({sx:{maxWidth:345}},{children:[i.jsx(M.default,{component:"img",height:"194",image:a.image,alt:a.name},void 0),i.jsxs(w.default,{children:[i.jsx(F.default,K({variant:"h6"},{children:a.name}),void 0),i.jsx(F.default,K({variant:"body2",color:"text.secondary"},{children:a.description}),void 0)]},void 0),i.jsx(I.default,K({disableSpacing:!0},{children:i.jsxs(S.default,K({container:!0,spacing:2},{children:[i.jsx(S.default,{item:!0,xs:6},void 0),i.jsxs(S.default,K({item:!0,xs:6},{children:[i.jsxs(D.default,K({variant:"text",onClick:function(){a.addToCart({name:a.name,price:a.price,image:a.image}),d(!0)}},{children:[i.jsx(A.default,{},void 0)," Add to Order"]}),void 0),i.jsx(z.default,K({open:r,autoHideDuration:6e3,onClose:n},{children:i.jsx(H.default,K({onClose:n,severity:"success",sx:{width:"100%"}},{children:"You've ordered an item! Scroll down when ready."}),void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)]}),void 0)},exports.MultiVariantMenuItemCard=function(a){var t=e.useState(!1),r=t[0],d=t[1],n=e.useState(a.variants[0][0]),l=n[0],o=n[1],s=function(e){d(!1)};return i.jsxs(L.default,K({sx:{maxWidth:345}},{children:[i.jsx(M.default,{component:"img",height:"194",image:a.image,alt:a.name},void 0),i.jsxs(w.default,{children:[i.jsx(F.default,K({variant:"h6"},{children:a.name}),void 0),i.jsx(F.default,K({variant:"body2",color:"text.secondary"},{children:a.description}),void 0)]},void 0),i.jsx(I.default,K({disableSpacing:!0},{children:i.jsxs(S.default,K({container:!0,spacing:2},{children:[i.jsx(S.default,K({item:!0,xs:6},{children:i.jsx(J.default,K({labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:a.variationName,onChange:function(e){o(e.target.value)},style:{height:35}},{children:a.variants.map((function(e){return i.jsx(X.default,K({value:e[0]},{children:e[0]}),e[0])}))}),void 0)}),void 0),i.jsxs(S.default,K({item:!0,xs:6},{children:[i.jsxs(D.default,K({variant:"text",onClick:function(){a.addToCart({name:a.name+" - "+l,price:a.variants.find((function(e){return e[0]==l}))[1],image:a.name}),d(!0)}},{children:[i.jsx(A.default,{},void 0)," Add to Order"]}),void 0),i.jsx(z.default,K({open:r,autoHideDuration:6e3,onClose:s},{children:i.jsx(H.default,K({onClose:s,severity:"success",sx:{width:"100%"}},{children:"You've ordered an item! Scroll down when ready."}),void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)]}),void 0)},exports.SimpleComponent=function(){var a=e.useState("Hello"),t=a[0];return a[1],i.jsx("p",{children:t},void 0)};
//# sourceMappingURL=index.js.map
